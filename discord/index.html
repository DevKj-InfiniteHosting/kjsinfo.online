<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KJS | Discord</title>
  <meta name="theme-color" content="#0b0f17" />
  <style>
    :root {
      --bg:#06090f;--bg-2:#0b101a;
      --txt:#e6f1ff;--muted:#93a4bf;
      --neon:#55ffcc;--neon-2:#66a6ff;
      --accent:#12f7d6;--danger:#ff477e;
      --ok:#74f57d;--card:#0a0f18cc;
      --border:#192235;
      --shadow:0 10px 25px rgba(0,0,0,.55), inset 0 0 0 1px rgba(255,255,255,.03);
      --radius:18px
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0;font:16px/1.65 Inter, ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;color:var(--txt);background:var(--bg);overflow-x:hidden}

    /* Background fx */
    .bg{position:fixed;inset:0;z-index:-3;pointer-events:none;filter:saturate(1.05);background:
      radial-gradient(1200px 600px at 80% 10%, rgba(18,247,214,.10), transparent 50%),
      radial-gradient(900px 600px at 10% 20%, rgba(102,166,255,.10), transparent 50%),
      radial-gradient(800px 400px at 50% 80%, rgba(255,71,126,.08), transparent 60%),
      linear-gradient(180deg, #04060a 0%, #080d14 100%)}
    .noise{position:fixed;inset:-200px;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="200"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.85" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity=".03"/></svg>');opacity:.6;mix-blend-mode:soft-light;z-index:-2;pointer-events:none;animation: drift 60s linear infinite}
    .scan{position:fixed;inset:0;background:repeating-linear-gradient(180deg, rgba(255,255,255,.04) 0 1px, transparent 1px 3px);opacity:.12;z-index:-2;pointer-events:none}
    @keyframes drift{from{transform:translate3d(0,0,0)}to{transform:translate3d(-200px,-200px,0)}}

    .wrap{max-width:1100px;margin:0 auto;padding: clamp(18px, 3vw, 36px)}

    /* ==== NAV BAR ==== */
    header{display:flex;align-items:center;justify-content:space-between;gap:18px;padding:20px 0;position:sticky;top:0;backdrop-filter: blur(8px);background: linear-gradient(180deg, rgba(8,13,20,.75), rgba(8,13,20,0));z-index:10}
    .brand{display:flex;align-items:center;gap:14px;text-decoration:none;color:var(--txt)}
    .logo{width:42px;height:42px;border-radius:12px;display:grid;place-items:center;background:conic-gradient(from 210deg, var(--neon), var(--neon-2), var(--danger), var(--neon));box-shadow:0 0 40px rgba(85,255,204,.25), inset 0 0 1px rgba(255,255,255,.5);position:relative;overflow:hidden}
    .logo::after{content:"";position:absolute;inset:3px;border-radius:10px;background:#0b101a}
    .logo span{position:relative;z-index:1;font-weight:800;letter-spacing:.5px}
    nav{display:flex;gap:12px;flex-wrap:wrap}
    nav a{color:var(--muted);text-decoration:none;padding:8px 12px;border-radius:999px;border:1px solid transparent;transition:.2s ease}
    nav a:hover{color:var(--txt);border-color:#1b2840;background:#0c1320}

    /* ==== CONTENT ==== */
    h2{font-size:2rem;margin-bottom:20px;border-left:3px solid var(--neon);padding-left:12px}
    .card{background:var(--card);border:1px solid var(--border);border-radius:var(--radius);padding:24px;box-shadow:var(--shadow);margin-top:20px}

    .profile{display:flex;align-items:center;gap:22px}
    .avatar{width:96px;height:96px;border-radius:50%;border:3px solid var(--neon);box-shadow:0 0 12px var(--neon)}
    .username{font-size:1.5rem;font-weight:600}
    .status{display:inline-block;margin-top:6px;padding:4px 10px;border-radius:6px;font-size:.85rem;font-weight:600}
    .online{background:#1dd75f}.idle{background:#ffbd2e}.dnd{background:#ff4d6d}.offline{background:#555}
    .activity{margin-top:8px;color:var(--muted);font-size:.95rem}

    /* Spotify */
    .spotify{display:flex;align-items:center;margin-top:20px;gap:16px}
    .spotify img{width:80px;height:80px;border-radius:12px;box-shadow:0 0 25px rgba(30,215,96,.75);animation:pulse 2s infinite alternate}
    .spotify .track{display:flex;flex-direction:column;gap:6px}
    .spotify .title{font-size:1.1rem;font-weight:600;color:#1ed760}
    .spotify .artist{font-size:.95rem;color:var(--muted)}
    @keyframes pulse{from{box-shadow:0 0 12px rgba(30,215,96,.5)}to{box-shadow:0 0 25px rgba(30,215,96,1)}}

    /* Terminal */
    .terminal{background:#03070f;border:1px solid #1a2438;border-radius:14px;padding:14px;margin-top:24px;font-family:monospace;color:#74f57d;box-shadow:inset 0 0 12px rgba(0,255,150,.15)}
    .terminal .bar{display:flex;gap:6px;margin-bottom:8px}
    .dot{width:10px;height:10px;border-radius:50%;display:inline-block}
    .r{background:#ff5f56}.y{background:#ffbd2e}.g{background:#27c93f}

    /* Button */
    .discord-btn{display:inline-block;margin-top:22px;padding:12px 22px;background:var(--neon);color:#000;border-radius:999px;font-weight:600;text-decoration:none;box-shadow:0 0 16px var(--neon);transition:.3s}
    .discord-btn:hover{background:#00ffaa;box-shadow:0 0 24px #00ffaa;transform:translateY(-2px)}

    footer{margin:40px 0 12px;color:#8fa0bf;font-size:13px;text-align:center}
  </style>
</head>
<body>
  <div class="bg"></div>
  <div class="noise"></div>
  <div class="scan"></div>

  <div class="wrap">
    <header>
      <a class="brand" href="/">
        <div class="logo"><span>âˆ¿</span></div>
        <div><strong>KJS</strong><small style="color:var(--muted)"> Cybersecurity â€¢ Backend Dev</small></div>
      </a>
      <nav>
        <a href="/about">About</a>
        <a href="/skills">Skills</a>
        <a href="/work">Work</a>
        <a href="/contact">Contact</a>
        <a href="/discord">Discord</a>
      </nav>
    </header>

    <h2>Discord Presence</h2>
    <div class="card">
      <div class="profile">
        <img id="avatar" class="avatar" src="" alt="Discord Avatar">
        <div>
          <div id="username" class="username">Loading...</div>
          <div id="status" class="status offline">Loading</div>
          <div id="activity" class="activity"></div>
        </div>
      </div>

      <div id="spotify" class="spotify" style="display:none;">
        <img id="spotify-album" src="" alt="Album Art">
        <div class="track">
          <div id="spotify-title" class="title"></div>
          <div id="spotify-artist" class="artist"></div>
        </div>
      </div>

      <div class="terminal">
        <div class="bar"><span class="dot r"></span><span class="dot y"></span><span class="dot g"></span></div>
        <pre id="terminal-output">$ fetch discord presence
...waiting for update</pre>
      </div>

      <a class="discord-btn" href="https://discord.gg/dxgdkgAM9c" target="_blank">My Development Discord</a>
      <a class="discord-btn" href="https://discord.gg/s2XBFE8tw5" target="_blank">P-RAT</a>
    </div>
  </div>

  <footer>
    Â© <span id="year"></span> KJS â€” All Rights Reserved
  </footer>

  <script>
    async function loadStatus(){
      try{
        const res=await fetch("https://api.lanyard.rest/v1/users/1405692760446599238");
        const json=await res.json(); if(!json.success) return;
        const d=json.data;

        document.getElementById("avatar").src=`https://cdn.discordapp.com/avatars/${d.discord_user.id}/${d.discord_user.avatar}.png?size=256`;
        document.getElementById("username").textContent=`${d.discord_user.username}#${d.discord_user.discriminator}`;

        const statusEl=document.getElementById("status");
        statusEl.textContent=d.discord_status.toUpperCase();
        statusEl.className="status "+d.discord_status;

        let activityText="";
        const custom=d.activities.find(a=>a.type===4);
        if(custom) activityText=custom.state;
        else if(d.activities[0] && d.activities[0].name!=="Spotify") activityText=`${d.activities[0].name}`;
        document.getElementById("activity").textContent=activityText;

        const spotify=d.activities.find(a=>a.type===2 && a.name==="Spotify");
        if(spotify){
          document.getElementById("spotify").style.display="flex";
          document.getElementById("spotify-album").src=spotify.assets.large_image.replace("spotify:","https://i.scdn.co/image/");
          document.getElementById("spotify-title").textContent=spotify.details;
          document.getElementById("spotify-artist").textContent=spotify.state;
        } else {
          document.getElementById("spotify").style.display="none";
        }

        let terminalOutput=`$ fetch discord presence
ðŸ‘¤ ${d.discord_user.username}#${d.discord_user.discriminator}
ðŸ“¡ Status: ${d.discord_status}
ðŸŽ® Activity: ${activityText||"None"}`;
        if(spotify){terminalOutput+=`\nðŸŽµ Spotify: ${spotify.details} â€” ${spotify.state}`}
        document.getElementById("terminal-output").textContent=terminalOutput;

      }catch(e){console.error("Failed to load Discord status",e)}
    }
    loadStatus(); setInterval(loadStatus,30000);
    document.getElementById("year").textContent=new Date().getFullYear();
  </script>
</body>
</html>
